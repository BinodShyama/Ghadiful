@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<h4 class="fw-bold py-3 mb-0">
    Groups
</h4>
<ejs-grid id="mainGrid" dataSource="@Model" allowFiltering="true" toolbar="@( new List<string>() { "ExcelExport", "PdfExport" })" allowExcelExport="true" allowPdfExport="true" , allowResizing="true" allowPaging="true" allowSorting="true" height="400" rowHeight="20">
    <e-grid-pagesettings pageSize="20"></e-grid-pagesettings>
    <e-grid-filtersettings type="Menu"></e-grid-filtersettings>
    <e-grid-loadingIndicator indicatorType="Shimmer"></e-grid-loadingIndicator>
    <e-grid-columns>
        <e-grid-column field="Name" headerText="Name" width="150"></e-grid-column>
        <e-grid-column field="Type" headerText="Type" width="100" template="#typeTemplate"></e-grid-column>
        <e-grid-column field="Tags" headerText="Tags" width="150"></e-grid-column>
        <e-grid-column field="Hierarchy" headerText="Hierarchy" template="#hierarchyTemplate" width="100"></e-grid-column>
    </e-grid-columns>
</ejs-grid>

<script type="text/x-jsrender" id="hierarchyTemplate">
     ${ if(Hierarchy != null)}
      <a target="_blank" href="@Url.Content("/Organization/Index/${Hierarchy}")">Parent Organization</a>
     ${else}
          <span></span>
       ${/if}
</script>

<script type="text/x-jsrender" id="typeTemplate">
    ${ if(Type == 'Employee')}
     <a target="_blank" href="@Url.Content("/Employee/Group/${Id}")">${Type}</a>     
    ${else}
        <a target="_blank" href="@Url.Content("/Organization/Group/${Id}")">${Type}</a>
      ${/if}
</script>
